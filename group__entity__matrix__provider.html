<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LehrFEM++: EntityMatrixProvider</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "bm.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
// This file defines a number of macros which can be used in 
// formulas of the doxygen documentation.
MathJax.Hub.Config({
  TeX: {
    Macros: {
      vec: ["\\boldsymbol{#1}", 1],
      grad: "\\vec{\\operatorname{grad}}",
      norm: ["\\left\\lVert#1\\right\\rVert", 1]
    }
  }
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LehrFEM++
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">A simple Finite Element Library for teaching</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Implementing Classes</a>  </div>
  <div class="headertitle">
<div class="title">EntityMatrixProvider<div class="ingroups"><a class="el" href="group__concepts.html">Concepts</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Provides the local element matrix for a mesh entity. </p>
<h2>Description</h2>
<p>An EntityMatrixProvider is an object that provides a local element matrix for a given mesh entity. EntityMatrixProvider's are mostly used together with <code><a class="el" href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3" title="Assembly function for standard assembly of finite element matrices.">lf::assemble::AssembleMatrixLocally</a></code> to assemble a sparse system matrix.</p>
<h2>Requirements</h2>
<p>The type <code>EMP</code> satisfies the Concept <code>EntityMatrixProvider</code> if given</p><ul>
<li><code>emp</code> an object of type <code>EMP</code></li>
<li><code>e</code> is a <a class="el" href="classlf_1_1mesh_1_1_entity.html" title="Interface class representing a topological entity in a cellular complex">lf::mesh::Entity</a> object</li>
<li><code>SCALAR</code> is an Eigen supported scalar datatype (e.g. <code>double</code>)</li>
<li><code>ROWS</code> is the number of rows of the local element matrix or <code>Eigen::Dynamic</code></li>
<li><code>COLS</code> is the number of columns of the local element matrix or <code>Eigen::Dynamic</code></li>
</ul>
<p>the following expressions are valid:</p>
<table class="doxtable">
<tr>
<th>expression </th><th>return type </th><th>semantics </th></tr>
<tr>
<td><code>emp.isActive(e)</code> </td><td><code>bool</code> </td><td>Defines whether the entity <code>e</code> is taken into account by the assembly routine. </td></tr>
<tr>
<td><code>emp.Eval(e)</code> </td><td><code>Eigen::Matrix&lt;SCALAR, ROWS, COLS&gt;</code> </td><td>Returns the local element matrix for mesh entity <code>e</code>. Is only called if <code>emp.isActive(e)==true</code>. </td></tr>
</table>
<h3>Typical class definition</h3>
<div class="fragment"><div class="line"><span class="keyword">class </span>ElemMatProvider {</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  <span class="comment">// Constructor can be used to pass data required for local computations</span></div>
<div class="line">  ElemMatProvider() = <span class="keywordflow">default</span>;</div>
<div class="line">  <span class="comment">// Select cells taken into account during cell-oriented assembly</span></div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isActive(<span class="keyword">const</span> <a class="code" href="classlf_1_1mesh_1_1_entity.html">lf::mesh::Entity</a>&amp; cell);</div>
<div class="line">  <span class="comment">// Compute element matrix for a cell, here a fixed-size matrix</span></div>
<div class="line">  Eigen::Matrix&lt;double, 3, 3&gt; Eval(<span class="keyword">const</span> <a class="code" href="classlf_1_1mesh_1_1_entity.html">lf::mesh::Entity</a>&amp; cell);</div>
<div class="line">};</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>returning a matix object through <code>Eval()</code> may sacrifice efficiency because it may entail additional allocation of dynamic memory. However, this design was chosen for the sake of readability of the code and in order to avoid nasty memory access errors that often occur when passing a matrix by reference.</dd></dl>
<h2>Usage scenarios</h2>
<p>The concept of a EntityMatrixProvider is widely used in the <code><a class="el" href="namespacelf_1_1assemble.html" title="D.o.f. index mapping and assembly facilities.">lf::assemble</a></code> and <code><a class="el" href="namespacelf_1_1uscalfe.html" title="Collects data structures and algorithms designed for scalar finite element methods primarily meant fo...">lf::uscalfe</a></code> modules:</p><ul>
<li>The function <code><a class="el" href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3" title="Assembly function for standard assembly of finite element matrices.">lf::assemble::AssembleMatrixLocally()</a></code> accepts an <code>EntityMatrixProvider</code> which in turn defines how the (sparse) system matrix is assembled.</li>
</ul>
<h2>Implementations</h2>
<p>Examples for classes implementing the concept EntityMatrixProvider are <a class="el" href="classlf_1_1uscalfe_1_1_linear_f_e_laplace_element_matrix.html">lf::uscalfe::LinearFELaplaceElementMatrix</a> and <a class="el" href="classlf_1_1uscalfe_1_1_reaction_diffusion_element_matrix_provider.html">lf::uscalfe::ReactionDiffusionElementMatrixProvider</a></p>
<h2>See also</h2>
<ul>
<li>The concept <a class="el" href="group__entity__vector__provider.html">EntityVectorProvider</a></li>
<li>The cell-oriented assembly functions <a class="el" href="group__assemble__matrix__locally.html">Cell-Oriented Assembly of Galerkin Matrices</a></li>
<li><a href="https://www.sam.math.ethz.ch/~grsam/NUMPDEFL/NUMPDE.pdf">Lecture Document</a> Example 2.7.4.29</li>
<li><a href="https://www.sam.math.ethz.ch/~grsam/NUMPDEFL/NUMPDE.pdf">Lecture Document</a> Example 2.7.4.37 </li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Implementing Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlf_1_1uscalfe_1_1_linear_f_e_laplace_element_matrix.html">lf::uscalfe::LinearFELaplaceElementMatrix</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computing the element matrix for the (negative) Laplacian and linear finite elements.  <a href="classlf_1_1uscalfe_1_1_linear_f_e_laplace_element_matrix.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlf_1_1uscalfe_1_1_reaction_diffusion_element_matrix_provider.html">lf::uscalfe::ReactionDiffusionElementMatrixProvider&lt; SCALAR, DIFF_COEFF, REACTION_COEFF &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class for local quadrature based computations for Lagrangian finite elements and second-order scalar elliptic BVPs.  <a href="classlf_1_1uscalfe_1_1_reaction_diffusion_element_matrix_provider.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlf_1_1uscalfe_1_1_mass_edge_matrix_provider.html">lf::uscalfe::MassEdgeMatrixProvider&lt; SCALAR, COEFF, EDGESELECTOR &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quadrature-based computation of local mass matrix for an edge.  <a href="classlf_1_1uscalfe_1_1_mass_edge_matrix_provider.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<div class="ttc" id="aclasslf_1_1mesh_1_1_entity_html"><div class="ttname"><a href="classlf_1_1mesh_1_1_entity.html">lf::mesh::Entity</a></div><div class="ttdoc">Interface class representing a topological entity in a cellular complex</div><div class="ttdef"><b>Definition:</b> <a href="entity_8h_source.html#l00039">entity.h:39</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
