<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LehrFEM++: lf::assemble::EntityMatrixProvider Concept Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "bm.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
// This file defines a number of macros which can be used in 
// formulas of the doxygen documentation.
MathJax.Hub.Config({
  jax: ["input/TeX", "output/CommonHTML", "output/HTML-CSS"],
  TeX: {
    extensions: ['AMSsymbols.js'],
    Macros: {
      vec: ["\\boldsymbol{#1}", 1],
      grad: "\\vec{\\operatorname{grad}}",
      norm: ["\\left\\lVert#1\\right\\rVert", 1]
    }
  }
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LehrFEM++<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">A simple Finite Element Library for teaching</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelf.html">lf</a></li><li class="navelem"><a class="el" href="namespacelf_1_1assemble.html">assemble</a></li><li class="navelem"><a class="el" href="conceptlf_1_1assemble_1_1_entity_matrix_provider.html">EntityMatrixProvider</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">lf::assemble::EntityMatrixProvider Concept Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Provides the local element matrix for a mesh entity.  
<a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="assemble_8h_source.html">lf/assemble/assemble.h</a>&gt;</code></p>
<h2 class="groupheader">Concept definition</h2>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> EMP&gt;</div>
<div class="line"><span class="keyword">concept </span><a class="code hl_concept" href="conceptlf_1_1assemble_1_1_entity_matrix_provider.html">lf::assemble::EntityMatrixProvider</a> =  <span class="keyword">requires</span>(<a class="code hl_function" href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3">EMP</a>&amp; <a class="code hl_function" href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3">emp</a>, <span class="keyword">const</span> mesh::Entity&amp; <a class="code hl_function" href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3">e</a>) {</div>
<div class="line">  { <a class="code hl_function" href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3">emp</a>.isActive(<a class="code hl_function" href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3">e</a>) } -&gt; std::same_as&lt;bool&gt;;</div>
<div class="line">  { <a class="code hl_function" href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3">emp</a>.Eval(<a class="code hl_function" href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3">e</a>) } -&gt; <a class="code hl_concept" href="conceptlf_1_1base_1_1_eigen_matrix.html">base::EigenMatrix</a>&lt;<a class="code hl_function" href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3">void</a>, -1, -1&gt;;</div>
<div class="line">}</div>
<div class="ttc" id="aconceptlf_1_1assemble_1_1_entity_matrix_provider_html"><div class="ttname"><a href="conceptlf_1_1assemble_1_1_entity_matrix_provider.html">lf::assemble::EntityMatrixProvider</a></div><div class="ttdoc">Provides the local element matrix for a mesh entity.</div><div class="ttdef"><b>Definition</b> <a href="assemble__concepts_8h_source.html#l00096">assemble_concepts.h:96</a></div></div>
<div class="ttc" id="aconceptlf_1_1base_1_1_eigen_matrix_html"><div class="ttname"><a href="conceptlf_1_1base_1_1_eigen_matrix.html">lf::base::EigenMatrix</a></div><div class="ttdoc">Check if a given type T is an Eigen::Matrix.</div><div class="ttdef"><b>Definition</b> <a href="eigen__tools_8h_source.html#l00070">eigen_tools.h:70</a></div></div>
<div class="ttc" id="agroup__assemble__matrix__locally_html_ga39b4197203dd4e896bd7073fc033aca3"><div class="ttname"><a href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3">lf::assemble::AssembleMatrixLocally</a></div><div class="ttdeci">void AssembleMatrixLocally(dim_t codim, const DofHandler &amp;dof_handler_trial, const DofHandler &amp;dof_handler_test, ENTITY_MATRIX_PROVIDER &amp;entity_matrix_provider, TMPMATRIX &amp;matrix)</div><div class="ttdoc">Assembly function for standard assembly of finite element matrices.</div><div class="ttdef"><b>Definition</b> <a href="assembler_8h_source.html#l00115">assembler.h:115</a></div></div>
</div><!-- fragment --><a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides the local element matrix for a mesh entity. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">EMP</td><td>Entity-Matrix-Provider (EMP) Type to be tested for satisfaction of the concept</td></tr>
  </table>
  </dd>
</dl>
<h2>Description</h2>
<p>An EntityMatrixProvider is an object that provides a local element matrix for a given mesh entity. EntityMatrixProvider's are mostly used together with <code><a class="el" href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3" title="Assembly function for standard assembly of finite element matrices.">lf::assemble::AssembleMatrixLocally</a></code> to assemble a sparse system matrix.</p>
<h2>Requirements</h2>
<p>The type <code>EMP</code> satisfies the Concept <code>EntityMatrixProvider</code> if given</p><ul>
<li><code>emp</code> an object of type <code>EMP</code></li>
<li><code>e</code> a <code>const <a class="el" href="classlf_1_1mesh_1_1_entity.html" title="Interface class representing a topological entity in a cellular complex">lf::mesh::Entity</a></code> object</li>
<li><code>SCALAR</code> is an Eigen supported scalar datatype (e.g. <code>double</code>)</li>
<li><code>ROWS</code> is the number of rows of the local element matrix or <code>Eigen::Dynamic</code></li>
<li><code>COLS</code> is the number of columns of the local element matrix or <code>Eigen::Dynamic</code></li>
</ul>
<p>the following expressions are valid:</p>
<table class="doxtable">
<tr>
<th>expression </th><th>return type </th><th>semantics </th></tr>
<tr>
<td><code>emp.isActive(e)</code> </td><td><code>bool</code> </td><td>Defines whether the entity <code>e</code> is taken into account by the assembly routine. </td></tr>
<tr>
<td><code>emp.Eval(e)</code> </td><td><code>Eigen::Matrix&lt;SCALAR, ROWS, COLS&gt;</code> </td><td>Returns the local element matrix for mesh entity <code>e</code>. Is only called if <code>emp.isActive(e)==true</code>. </td></tr>
</table>
<h3>Typical class definition</h3>
<div class="fragment"><div class="line"><span class="keyword">class </span>ElemMatProvider {</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  <span class="comment">// Constructor can be used to pass data required for local computations</span></div>
<div class="line">  ElemMatProvider() = <span class="keywordflow">default</span>;</div>
<div class="line">  <span class="comment">// Select cells taken into account during cell-oriented assembly</span></div>
<div class="line">  <span class="keywordtype">bool</span> isActive(<span class="keyword">const</span> <a class="code hl_class" href="classlf_1_1mesh_1_1_entity.html">lf::mesh::Entity</a>&amp; cell);</div>
<div class="line">  <span class="comment">// Compute element matrix for a cell, here a fixed-size matrix</span></div>
<div class="line">  Eigen::Matrix&lt;double, 3, 3&gt; Eval(<span class="keyword">const</span> <a class="code hl_class" href="classlf_1_1mesh_1_1_entity.html">lf::mesh::Entity</a>&amp; cell);</div>
<div class="line">};</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>returning a matrix object through <code>Eval()</code> may sacrifice efficiency because it may entail additional allocation of dynamic memory. However, this design was chosen for the sake of readability of the code and in order to avoid nasty memory access errors that often occur when passing a matrix by reference.</dd></dl>
<h2>Usage scenarios</h2>
<p>The concept of a EntityMatrixProvider is widely used in the <code><a class="el" href="namespacelf_1_1assemble.html" title="D.o.f. index mapping and assembly facilities.">lf::assemble</a></code> and <code><a class="el" href="namespacelf_1_1uscalfe.html" title="Collects data structures and algorithms designed for scalar finite element methods primarily meant fo...">lf::uscalfe</a></code> modules:</p><ul>
<li>The function <code><a class="el" href="group__assemble__matrix__locally.html#ga39b4197203dd4e896bd7073fc033aca3" title="Assembly function for standard assembly of finite element matrices.">lf::assemble::AssembleMatrixLocally()</a></code> accepts an <code>EntityMatrixProvider</code> which in turn defines how the (sparse) system matrix is assembled.</li>
</ul>
<h2>Archetype</h2>
<ul>
<li><a class="el" href="structlf_1_1assemble_1_1_entity_matrix_provider_a_t.html">EntityMatrixProviderAT</a>.</li>
</ul>
<h2>See also</h2>
<ul>
<li>The concept <a class="el" href="group__entity__vector__provider.html">EntityVectorProvider</a></li>
<li><a class="el" href="group__assemble__matrix__locally.html">AssembleMatrixLocally()</a></li>
<li><a href="https://www.sam.math.ethz.ch/~grsam/NUMPDEFL/NUMPDE.pdf">Lecture Document</a> Example 2.7.4.33</li>
<li><a href="https://www.sam.math.ethz.ch/~grsam/NUMPDEFL/NUMPDE.pdf">Lecture Document</a> Example 2.7.4.41</li>
</ul>
<h2>Classes modelling this concept</h2>
<ul>
<li><a class="el" href="classlf_1_1fe_1_1_diffusion_element_matrix_provider.html">lf::fe::DiffusionElementMatrixProvider</a></li>
<li><a class="el" href="classlf_1_1fe_1_1_mass_element_matrix_provider.html">lf::fe::MassElementMatrixProvider</a></li>
<li><a class="el" href="classlf_1_1fe_1_1_mass_edge_matrix_provider.html">lf::fe::MassEdgeMatrixProvider</a></li>
<li><a class="el" href="classlf_1_1uscalfe_1_1_linear_f_e_laplace_element_matrix.html">lf::uscalfe::LinearFELaplaceElementMatrix</a></li>
<li><a class="el" href="classlf_1_1uscalfe_1_1_reaction_diffusion_element_matrix_provider.html">lf::uscalfe::ReactionDiffusionElementMatrixProvider</a></li>
<li><a class="el" href="classlf_1_1uscalfe_1_1_mass_edge_matrix_provider.html">lf::uscalfe::MassEdgeMatrixProvider</a> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="assemble__concepts_8h_source.html#l00096">96</a> of file <a class="el" href="assemble__concepts_8h_source.html">assemble_concepts.h</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
